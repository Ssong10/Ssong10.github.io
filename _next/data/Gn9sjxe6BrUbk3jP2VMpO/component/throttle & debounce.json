{"pageProps":{"params":{"id":"throttle & debounce"},"code":{"html":"<div class=\"input-wrap\">\n  <label for=\"type\">Type </label>\n  <select id=\"type\" >\n    <option value=\"throttle\">throttle</option>\n    <option value=\"debounce\">debounce</option>\n  </select>\n</div>\n<div class=\"input-wrap\">\n  <label for=\"delay\">딜레이</label>\n  <input id=\"delay\" type=\"number\" value=\"500\"/>\n  <span>(ms)</span>\n</div>\n<div class=\"input-wrap\">\n  <label for=\"search\">Input Test</label>\n  <textarea id=\"search\" rows=\"5\"></textarea>\n</div>\n<div id=\"log\">\n  <p>---------- type : throttle ----------</p>\n  <p>---------- delay : 500ms ----------</p>\n</div>","js":"const searchInput = document.querySelector('#search')\nconst delayType = document.querySelector('select#type')\nconst inputLog = document.querySelector('#log')\nconst delayInput = document.querySelector('#delay')\n\nconst throttling = (func,delay) => {\n  let timer;\n  return (...args) => {\n    if (!timer) {\n      timer = setTimeout(function() {\n        timer = null;\n        func(...args)\n      }, delay);\n    }\n  }\n}\n\nconst debounce = (func,delay) => {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(function() {\n      func(...args)\n    }, delay)\n  }\n}\n\nconst search = () => {\n  const log = `input : ${searchInput.value}`\n  inputLog.innerHTML += `<p>${log}</p>`\n  inputLog.scrollTop = inputLog.scrollHeight\n}\n\nlet throttledEvent = throttling(search,500)\nlet debouncedEvent = debounce(search,500)\n\ndelayInput.addEventListener('change',(e)=> {\n  throttledEvent = throttling(search,Number(e.target.value))\n  debouncedEvent = debounce(search,e.target.value)\n  searchInput.value = ''\n  inputLog.innerHTML += `<p>------- delay : ${e.target.value}ms ----------</p>`\n  inputLog.scrollTop = inputLog.scrollHeight\n})\n\ndelayType.addEventListener('change', (e)=> {\n  searchInput.value = ''\n  inputLog.innerHTML += `<p>------- type : ${e.target.value} ----------</p>`\n  inputLog.scrollTop = inputLog.scrollHeight\n})\n\nsearchInput.addEventListener('keydown', (e)=> {\n  const type = delayType.value\n  if (type === 'throttle') {\n    throttledEvent(e)\n  } else {\n    debouncedEvent(e)\n  }\n})","css":"#log {\n  border : 1px solid black;\n  width : 80%;\n  height : 300px;\n  overflow-y: scroll;\n}\n#log p {\n  margin : 8px;\n}\n.input-wrap {\n  vertical-align: text-bottom;\n  display:flex;\n  font-size : 16px;\n  align-items:center;\n  margin: 8px;\n}\n\n.input-wrap label {\n  text-align: center;\n  width : 100px;\n}\n\n.input-wrap select,.input-wrap input {\n  width : 100px;\n  height: 30px;\n  box-sizing:border-box;\n}\n\n#search {\n  width : 500px;\n  resize:none;\n}"},"description":""},"__N_SSG":true}